!function(h){function N(a){var b={},d;for(d in a)b[d]=a[d];return b}function Q(a,b){a="undefined"!==typeof a?a:10;b="undefined"!==typeof b?b:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";for(var d=b.charAt(Math.round(Math.random()*(b.length-11))),g=1;g<a;g++)d+=b.charAt(Math.round(Math.random()*(b.length-1)));return d}function K(a){return"undefined"===typeof a}function B(a,b){return 0<a.length?a[b%a.length]:null}function O(a){function b(a,b){var e=h.functor(d),n=h.functor(g),u,
M=[],v=0,k=-1,q,m=!1;if(!b)for(b=["M"],u=1;u<a.length;u++)b.push("L");for(;++k<b.length;){q=v+f[b[k]];for(u=[];v<q;)c.call(this,a[v],v)?(u.push(e.call(this,a[v],v),n.call(this,a[v],v)),v++):(u=null,v=q);u?m&&0<u.length?(M.push("M",u[0],u[1]),m=!1):(M.push(b[k]),M=M.concat(u)):m=!0}v!=a.length&&console.warn("Warning: not all vertices used in Path");return M.join(" ")}var d=function(a,b){return a[0]},g=function(a,b){return a[1]},c=function(a,b){return!0},f={M:1,m:1,L:1,l:1,Q:2,q:2,T:1,t:1,S:2,s:2,C:3,
c:3,Z:0,z:0};b.x=function(a){if(!arguments.length)return d;d=a;return b};b.y=function(a){if(!arguments.length)return g;g=a;return b};b.defined=function(a){if(!arguments.length)return c;c=a;return b};return b.call=b}function C(a,b){e.call(this,a,b);this.cssclass="mpld3-"+this.props.xy+"grid";if("x"==this.props.xy)this.transform="translate(0,"+this.ax.height+")",this.position="bottom",this.scale=this.ax.xdom,this.tickSize=-this.ax.height;else if("y"==this.props.xy)this.transform="translate(0,0)",this.position=
"left",this.scale=this.ax.ydom,this.tickSize=-this.ax.width;else throw"unrecognized grid xy specifier: should be 'x' or 'y'";}function D(a,b){e.call(this,a,b);this.transform="translate("+{bottom:[0,this.ax.height],top:[0,0],left:[0,0],right:[this.ax.width,0]}[this.props.position]+")";this.props.xy={bottom:"x",top:"x",left:"y",right:"y"}[this.props.position];this.cssclass="mpld3-"+this.props.xy+"axis";this.scale=this.ax[this.props.xy+"dom"]}function k(a,b){if("undefined"===typeof b){if(this.fig=this.ax=
null,"display"!==this.trans)throw"ax must be defined if transform != 'display'";}else this.ax=b,this.fig=b.fig;this.zoomable="data"===a;this.x=this["x_"+a];this.y=this["y_"+a];if("undefined"===typeof this.x||"undefined"===typeof this.y)throw"unrecognized coordinate code: "+a;}function t(a,b){e.call(this,a,b);this.data=a.fig.get_data(this.props.data);this.pathcodes=this.props.pathcodes;this.pathcoords=new k(this.props.coordinates,this.ax);this.offsetcoords=new k(this.props.offsetcoordinates,this.ax);
this.datafunc=O()}function q(a,b){e.call(this,a,b);if(null==this.props.facecolors||0==this.props.facecolors.length)this.props.facecolors=["none"];if(null==this.props.edgecolors||0==this.props.edgecolors.length)this.props.edgecolors=["none"];var d=this.ax.fig.get_data(this.props.offsets);if(null===d||0===d.length)d=[null];var g=Math.max(this.props.paths.length,d.length);if(d.length===g)this.offsets=d;else{this.offsets=[];for(var c=0;c<g;c++)this.offsets.push(B(d,c))}this.pathcoords=new k(this.props.pathcoordinates,
this.ax);this.offsetcoords=new k(this.props.offsetcoordinates,this.ax)}function L(a,b){e.call(this,a,b);var d=this.props;d.facecolor="none";d.edgecolor=d.color;delete d.color;d.edgewidth=d.linewidth;delete d.linewidth;this.defaultProps=t.prototype.defaultProps;t.call(this,a,d);this.datafunc=h.svg.line().interpolate("linear")}function H(a,b){e.call(this,a,b);this.marker=null!==this.props.markerpath?0==this.props.markerpath[0].length?null:c.path().call(this.props.markerpath[0],this.props.markerpath[1]):
null===this.props.markername?null:h.svg.symbol(this.props.markername).size(Math.pow(this.props.markersize,2))();var d={paths:[this.props.markerpath],offsets:a.fig.get_data(this.props.data),xindex:this.props.xindex,yindex:this.props.yindex,offsetcoordinates:this.props.coordinates,edgecolors:[this.props.edgecolor],edgewidths:[this.props.edgewidth],facecolors:[this.props.facecolor],alphas:[this.props.alpha],zorder:this.props.zorder,id:this.props.id};this.requiredProps=q.prototype.requiredProps;this.defaultProps=
q.prototype.defaultProps;q.call(this,a,d)}function E(a,b){e.call(this,a,b);this.coords=new k(this.props.coordinates,this.ax)}function x(a,b){e.call(this,a,b);this.text=this.props.text;this.position=this.props.position;this.coords=new k(this.props.coordinates,this.ax)}function r(a,b){function d(a){return new Date(a[0],a[1],a[2],a[3],a[4],a[5])}function g(a,b){return"date"!==a?b:[d(b[0]),d(b[1])]}function l(a,b,d){return("date"===a?h.time.scale():"log"===a?h.scale.log():h.scale.linear()).domain(b).range(d)}
e.call(this,a,b);this.axnum=this.fig.axes.length;this.axid=this.fig.figid+"_ax"+(this.axnum+1);this.clipid=this.axid+"_clip";this.props.xdomain=this.props.xdomain||this.props.xlim;this.props.ydomain=this.props.ydomain||this.props.ylim;this.sharex=[];this.sharey=[];this.elements=[];var f=this.props.bbox;this.position=[f[0]*this.fig.width,(1-f[1]-f[3])*this.fig.height];this.width=f[2]*this.fig.width;this.height=f[3]*this.fig.height;this.props.xdomain=g(this.props.xscale,this.props.xdomain);this.props.ydomain=
g(this.props.yscale,this.props.ydomain);this.x=this.xdom=l(this.props.xscale,this.props.xdomain,[0,this.width]);this.y=this.ydom=l(this.props.yscale,this.props.ydomain,[this.height,0]);"date"===this.props.xscale&&(this.x=c.multiscale(h.scale.linear().domain(this.props.xlim).range(this.props.xdomain.map(Number)),this.xdom));"date"===this.props.yscale&&(this.x=c.multiscale(h.scale.linear().domain(this.props.ylim).range(this.props.ydomain.map(Number)),this.ydom));for(var p=this.props.axes,f=0;f<p.length;f++){var P=
new c.Axis(this,p[f]);this.elements.push(P);(this.props.gridOn||P.props.grid.gridOn)&&this.elements.push(P.getGrid())}p=this.props.paths;for(f=0;f<p.length;f++)this.elements.push(new c.Path(this,p[f]));p=this.props.lines;for(f=0;f<p.length;f++)this.elements.push(new c.Line(this,p[f]));p=this.props.markers;for(f=0;f<p.length;f++)this.elements.push(new c.Markers(this,p[f]));p=this.props.texts;for(f=0;f<p.length;f++)this.elements.push(new c.Text(this,p[f]));p=this.props.collections;for(f=0;f<p.length;f++)this.elements.push(new c.PathCollection(this,
p[f]));p=this.props.images;for(f=0;f<p.length;f++)this.elements.push(new c.Image(this,p[f]));this.elements.sort(function(a,b){return a.props.zorder-b.props.zorder})}function F(a,b){e.call(this,a,b);this.buttons=[];this.props.buttons.forEach(this.addButton.bind(this))}function m(a,b){e.call(this,a);this.toolbar=a;this.fig=this.toolbar.fig;this.cssclass="mpld3-"+b+"button";this.active=!1}function w(a,b){e.call(this,a,b)}function I(a,b){e.call(this,a,b);var d=c.ButtonFactory({buttonID:"reset",sticky:!1,
onActivate:function(){this.toolbar.fig.reset()},icon:function(){return c.icons.reset}});this.fig.buttons.push(d)}function y(a,b){e.call(this,a,b);null===this.props.enabled&&(this.props.enabled=!this.props.button);var d=this.props.enabled;if(this.props.button){var g=c.ButtonFactory({buttonID:"zoom",sticky:!0,actions:["scroll","drag"],onActivate:this.activate.bind(this),onDeactivate:this.deactivate.bind(this),onDraw:function(){this.setState(d)},icon:function(){return c.icons.move}});this.fig.buttons.push(g)}}
function z(a,b){e.call(this,a,b);null===this.props.enabled&&(this.props.enabled=!this.props.button);var d=this.props.enabled;if(this.props.button){var g=c.ButtonFactory({buttonID:"boxzoom",sticky:!0,actions:["drag"],onActivate:this.activate.bind(this),onDeactivate:this.deactivate.bind(this),onDraw:function(){this.setState(d)},icon:function(){return c.icons.zoom}});this.fig.buttons.push(g)}this.extentClass="boxzoombrush"}function G(a,b){e.call(this,a,b)}function A(a,b){c.Plugin.call(this,a,b);null===
this.props.enabled&&(this.props.enabled=!this.props.button);var d=this.props.enabled;if(this.props.button){var g=c.ButtonFactory({buttonID:"linkedbrush",sticky:!0,actions:["drag"],onActivate:this.activate.bind(this),onDeactivate:this.deactivate.bind(this),onDraw:function(){this.setState(d)},icon:function(){return c.icons.brush}});this.fig.buttons.push(g)}this.extentClass="linkedbrush"}function J(a,b){c.Plugin.call(this,a,b)}function n(a,b){e.call(this,null,b);this.figid=a;this.width=this.props.width;
this.height=this.props.height;this.data=this.props.data;this.buttons=[];this.root=h.select("#"+a).append("div").style("position","relative");this.axes=[];for(var d=0;d<this.props.axes.length;d++)this.axes.push(new r(this,this.props.axes[d]));this.plugins=[];for(d=0;d<this.props.plugins.length;d++)this.add_plugin(this.props.plugins[d]);this.toolbar=new c.Toolbar(this,{buttons:this.buttons})}function e(a,b){this.parent=null==a||K(a)?null:a;this.props=null==b||K(b)?{}:this.processProps(b);this.fig=a instanceof
n?a:a&&"fig"in a?a.fig:null;this.ax=a instanceof r?a:a&&"ax"in a?a.ax:null}var c={_mpld3IsLoaded:!0,figures:[],plugin_map:{},version:"0.2",register_plugin:function(a,b){c.plugin_map[a]=b},draw_figure:function(a,b){if(null===document.getElementById(a))throw a+" is not a valid id";var d=new c.Figure(a,b);c.figures.push(d);d.draw();return d}};c.cloneObj=N;c.merge_objects=function(a){for(var b={},d,g=0;g<arguments.length;g++){d=arguments[g];for(var c in d)b[c]=d[c]}return b};c.generate_id=function(a,
b){console.warn("mpld3.generate_id is deprecated. Use mpld3.generateId instead.");return Q(a,b)};c.generateId=Q;c.get_element=function(a,b){var d,g,l;d="undefined"===typeof b?c.figures:"undefined"===typeof b.length?[b]:b;for(var f=0;f<d.length;f++){b=d[f];if(b.props.id===a)return b;for(var e=0;e<b.axes.length;e++){g=b.axes[e];if(g.props.id===a)return g;for(var h=0;h<g.elements.length;h++)if(l=g.elements[h],l.props.id===a)return l}}return null};c.insert_css=function(a,b){var d=document.head||document.getElementsByTagName("head")[0],
c=document.createElement("style"),l=a+" {",f;for(f in b)l+=f+":"+b[f]+"; ";l+="}";c.type="text/css";c.styleSheet?c.styleSheet.cssText=l:c.appendChild(document.createTextNode(l));d.appendChild(c)};c.process_props=function(a,b,d,c){function l(a){e.call(this,null,a)}console.warn("mpld3.process_props is deprecated. Plot elements should derive from mpld3.PlotElement");l.prototype=Object.create(e.prototype);l.prototype.constructor=l;l.prototype.requiredProps=c;l.prototype.defaultProps=d;return(new l(b)).props};
c.interpolateDates=function(a,b){var d=h.interpolate([a[0].valueOf(),a[1].valueOf()],[b[0].valueOf(),b[1].valueOf()]);return function(a){a=d(a);return[new Date(a[0]),new Date(a[1])]}};c.path=function(){return O()};c.multiscale=function(a){function b(a){d.forEach(function(b){a=b(a)});return a}var d=Array.prototype.slice.call(arguments,0),c=d.length;b.domain=function(a){if(!arguments.length)return d[0].domain();d[0].domain(a);return b};b.range=function(a){if(!arguments.length)return d[c-1].range();
d[c-1].range(a);return b};b.step=function(a){return d[a]};return b};c.icons={reset:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBI\nWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gIcACMoD/OzIwAAAJhJREFUOMtjYKAx4KDUgNsMDAx7\nyNV8i4GB4T8U76VEM8mGYNNMtCH4NBM0hBjNMIwSsMzQ0MamcDkDA8NmQi6xggpUoikwQbIkHk2u\nE0rLI7vCBknBSyxeRDZAE6qHgQkq+ZeBgYERSfFPAoHNDNUDN4BswIRmKgxwEasP2dlsDAwMYlA/\n/mVgYHiBpkkGKscIDaPfVMmuAGnOTaGsXF0MAAAAAElFTkSuQmCC\n",move:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBI\nWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gIcACQMfLHBNQAAANZJREFUOMud07FKA0EQBuAviaKB\nlFr7COJrpAyYRlKn8hECEkFEn8ROCCm0sBMRYgh5EgVFtEhsRjiO27vkBoZd/vn5d3b+XcrjFI9q\nxgXWkc8pUjOB93GMd3zgB9d1unjDSxmhWSHQqOJki+MtOuv/b3ZifUqctIrMxwhHuG1gim4Ma5kR\nWuEkXFgU4B0MW1Ho4TeyjX3s4TDq3zn8ALvZ7q5wX9DqLOHCDA95cFBAnOO1AL/ZdNopgY3fQcqF\nyriMe37hM9w521ZkkvlMo7o/8g7nZYQ/QDctp1nTCf0AAAAASUVORK5CYII=\n",
zoom:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBI\nWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gMPDiIRPL/2oQAAANBJREFUOMvF0b9KgzEcheHHVnCT\nKoI4uXbtLXgB3oJDJxevw1VwkoJ/NjepQ2/BrZRCx0ILFURQKV2kyOeSQpAmn7WDB0Lg955zEhLy\n2scdXlBggits+4WOQqjAJ3qYR7NGLrwXGU9+sGbEtlIF18FwmuBngZ+nCt6CIacC3Rx8LSl4xzgF\nn0tusBn4UyVhuA/7ZYIv5g+pE3ail25hN/qdmzCfpsJVjKKCZesDBwtzrAqGOMQj6vhCDRsY4ALH\nmOVObltR/xeG/jph6OD2r+Fv5lZBWEhMx58AAAAASUVORK5CYII=\n",brush:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBI\nWXMAAEQkAABEJAFAZ8RUAAAAB3RJTUUH3gMCEiQKB9YaAgAAAWtJREFUOMuN0r1qVVEQhuFn700k\nnfEvBq0iNiIiOKXgH4KCaBeIhWARK/EibLwFCwVLjyAWaQzRGG9grC3URkHUBKKgRuWohWvL5pjj\nyTSLxcz7rZlZHyMiItqzFxGTEVF18/UoODNFxDIO4x12dkXqTcBPsCUzD+AK3ndFqhHwEsYz82gn\nN4dbmMRK9R/4KY7jAvbiWmYeHBT5Z4QCP8J1rGAeN3GvU3Mbl/Gq3qCDcxjLzOV+v78fq/iFIxFx\nPyJ2lNJpfBy2g59YzMyzEbEVLzGBJjOriLiBq5gaJrCIU3hcRCbwAtuwjm/Yg/V6I9NgDA1OR8RC\nZq6Vcd7iUwtn5h8fdMBdETGPE+Xe4ExELDRNs4bX2NfCUHe+7UExyfkCP8MhzOA7PuAkvrbwXyNF\nxF3MDqxiqlhXC7SPdaOKiN14g0u4g3H0MvOiTUSNY3iemb0ywmfMdfYyUmAJ2yPiBx6Wr/oy2Oqw\n+A1SupBzAOuE/AAAAABJRU5ErkJggg==\n"};
c.Grid=C;C.prototype=Object.create(e.prototype);C.prototype.constructor=C;C.prototype.requiredProps=["xy"];C.prototype.defaultProps={color:"gray",dasharray:"2,2",alpha:"0.5",nticks:10,gridOn:!0,tickvalues:null,zorder:0};C.prototype.draw=function(){this.grid=h.svg.axis().scale(this.scale).orient(this.position).ticks(this.props.nticks).tickValues(this.props.tickvalues).tickSize(this.tickSize,0,0).tickFormat("");this.elem=this.ax.axes.append("g").attr("class",this.cssclass).attr("transform",this.transform).call(this.grid);
c.insert_css("div#"+this.ax.fig.figid+" ."+this.cssclass+" .tick",{stroke:this.props.color,"stroke-dasharray":this.props.dasharray,"stroke-opacity":this.props.alpha});c.insert_css("div#"+this.ax.fig.figid+" ."+this.cssclass+" path",{"stroke-width":0})};C.prototype.zoomed=function(){this.elem.call(this.grid)};c.Axis=D;D.prototype=Object.create(e.prototype);D.prototype.constructor=D;D.prototype.requiredProps=["position"];D.prototype.defaultProps={nticks:10,tickvalues:null,tickformat:null,fontsize:"11px",
fontcolor:"black",axiscolor:"black",scale:"linear",grid:{},zorder:0};D.prototype.getGrid=function(){var a={nticks:this.props.nticks,zorder:this.props.zorder,tickvalues:this.props.tickvalues,xy:this.props.xy};if(this.props.grid)for(var b in this.props.grid)a[b]=this.props.grid[b];return new C(this.ax,a)};D.prototype.draw=function(){this.axis=h.svg.axis().scale(this.scale).orient(this.props.position).ticks(this.props.nticks).tickValues(this.props.tickvalues).tickFormat(this.props.tickformat);this.elem=
this.ax.baseaxes.append("g").attr("transform",this.transform).attr("class",this.cssclass).call(this.axis);c.insert_css("div#"+this.ax.fig.figid+" ."+this.cssclass+" line,  ."+this.cssclass+" path",{"shape-rendering":"crispEdges",stroke:this.props.axiscolor,fill:"none"});c.insert_css("div#"+this.ax.fig.figid+" ."+this.cssclass+" text",{"font-family":"sans-serif","font-size":this.props.fontsize,fill:this.props.fontcolor,stroke:"none"})};D.prototype.zoomed=function(){this.elem.call(this.axis)};c.Coordinates=
k;k.prototype.xy=function(a,b,d){d="undefined"===typeof d?1:d;return[this.x(a["undefined"===typeof b?0:b]),this.y(a[d])]};k.prototype.x_data=function(a){return this.ax.x(a)};k.prototype.y_data=function(a){return this.ax.y(a)};k.prototype.x_display=function(a){return a};k.prototype.y_display=function(a){return a};k.prototype.x_axes=function(a){return a*this.ax.width};k.prototype.y_axes=function(a){return this.ax.height*(1-a)};k.prototype.x_figure=function(a){return a*this.fig.width-this.ax.position[0]};
k.prototype.y_figure=function(a){return(1-a)*this.fig.height-this.ax.position[1]};c.Path=t;t.prototype=Object.create(e.prototype);t.prototype.constructor=t;t.prototype.requiredProps=["data"];t.prototype.defaultProps={xindex:0,yindex:1,coordinates:"data",facecolor:"green",edgecolor:"black",edgewidth:1,dasharray:"10,0",pathcodes:null,offset:null,offsetcoordinates:"data",alpha:1,zorder:1};t.prototype.nanFilter=function(a,b){return!isNaN(a[this.props.xindex])&&!isNaN(a[this.props.yindex])};t.prototype.draw=
function(){this.datafunc.defined(this.nanFilter.bind(this)).x(function(a){return this.pathcoords.x(a[this.props.xindex])}).y(function(a){return this.pathcoords.y(a[this.props.yindex])});this.path=this.ax.axes.append("svg:path").attr("d",this.datafunc(this.data,this.pathcodes)).attr("class","mpld3-path").style("stroke",this.props.edgecolor).style("stroke-width",this.props.edgewidth).style("stroke-dasharray",this.props.dasharray).style("stroke-opacity",this.props.alpha).style("fill",this.props.facecolor).style("fill-opacity",
this.props.alpha).attr("vector-effect","non-scaling-stroke");if(null!==this.props.offset){var a=this.offsetcoords.xy(this.props.offset);this.path.attr("transform","translate("+a+")")}};t.prototype.elements=function(a){return this.path};t.prototype.zoomed=function(){this.pathcoords.zoomable&&this.path.attr("d",this.datafunc(this.data,this.pathcodes));if(null!==this.props.offset&&this.offsetcoords.zoomable){var a=this.offsetcoords.xy(this.props.offset);this.path.attr("transform","translate("+a+")")}};
c.PathCollection=q;q.prototype=Object.create(e.prototype);q.prototype.constructor=q;q.prototype.requiredProps=["paths","offsets"];q.prototype.defaultProps={xindex:0,yindex:1,pathtransforms:[],pathcoordinates:"display",offsetcoordinates:"data",offsetorder:"before",edgecolors:["#000000"],edgewidths:[1],facecolors:["#0000FF"],alphas:[1],zorder:2};q.prototype.transformFunc=function(a,b){var d=this.props.pathtransforms,d=0==d.length?"":h.transform("matrix("+B(d,b)+")").toString(),c=null===a||"undefined"===
typeof a?"translate(0, 0)":"translate("+this.offsetcoords.xy(a,this.props.xindex,this.props.yindex)+")";return"after"===this.props.offsetorder?d+c:c+d};q.prototype.pathFunc=function(a,b){return O().x(function(a){return this.pathcoords.x(a[0])}.bind(this)).y(function(a){return this.pathcoords.y(a[1])}.bind(this)).apply(this,B(this.props.paths,b))};q.prototype.styleFunc=function(a,b){var d={stroke:B(this.props.edgecolors,b),"stroke-width":B(this.props.edgewidths,b),"stroke-opacity":B(this.props.alphas,
b),fill:B(this.props.facecolors,b),"fill-opacity":B(this.props.alphas,b)},c="",l;for(l in d)c+=l+":"+d[l]+";";return c};q.prototype.draw=function(){this.group=this.ax.axes.append("svg:g");this.pathsobj=this.group.selectAll("paths").data(this.offsets).enter().append("svg:path").attr("d",this.pathFunc.bind(this)).attr("class","mpld3-path").attr("transform",this.transformFunc.bind(this)).attr("style",this.styleFunc.bind(this)).attr("vector-effect","non-scaling-stroke")};q.prototype.elements=function(a){return this.group.selectAll("path")};
q.prototype.zoomed=function(){"data"===this.props.pathcoordinates&&this.pathsobj.attr("d",this.pathFunc.bind(this));"data"===this.props.offsetcoordinates&&this.pathsobj.attr("transform",this.transformFunc.bind(this))};c.Line=L;L.prototype=Object.create(t.prototype);L.prototype.constructor=L;L.prototype.requiredProps=["data"];L.prototype.defaultProps={xindex:0,yindex:1,coordinates:"data",color:"salmon",linewidth:2,dasharray:"10,0",alpha:1,zorder:2};c.Markers=H;H.prototype=Object.create(q.prototype);
H.prototype.constructor=H;H.prototype.requiredProps=["data"];H.prototype.defaultProps={xindex:0,yindex:1,coordinates:"data",facecolor:"salmon",edgecolor:"black",edgewidth:1,alpha:1,markersize:6,markername:"circle",markerpath:null,zorder:3};H.prototype.pathFunc=function(a,b){return this.marker};c.Image=E;E.prototype=Object.create(e.prototype);E.prototype.constructor=E;E.prototype.requiredProps=["data","extent"];E.prototype.defaultProps={alpha:1,coordinates:"data",zorder:1};E.prototype.draw=function(){this.image=
this.ax.axes.append("svg:image").attr("class","mpld3-image").attr("xlink:href","data:image/png;base64,"+this.props.data).style({opacity:this.props.alpha}).attr("preserveAspectRatio","none");this.zoomed()};E.prototype.elements=function(a){return h.select(this.image)};E.prototype.zoomed=function(){var a=this.props.extent;this.image.attr("x",this.coords.x(a[0])).attr("y",this.coords.y(a[3])).attr("width",this.coords.x(a[1])-this.coords.x(a[0])).attr("height",this.coords.y(a[2])-this.coords.y(a[3]))};
c.Text=x;x.prototype=Object.create(e.prototype);x.prototype.constructor=x;x.prototype.requiredProps=["text","position"];x.prototype.defaultProps={coordinates:"data",h_anchor:"start",v_baseline:"auto",rotation:0,fontsize:11,color:"black",alpha:1,zorder:3};x.prototype.draw=function(){this.obj="data"==this.props.coordinates?this.ax.axes.append("text"):this.ax.baseaxes.append("text");this.obj.attr("class","mpld3-text").text(this.text).style("text-anchor",this.props.h_anchor).style("dominant-baseline",
this.props.v_baseline).style("font-size",this.props.fontsize).style("fill",this.props.color).style("opacity",this.props.alpha);this.applyTransform()};x.prototype.elements=function(a){return h.select(this.obj)};x.prototype.applyTransform=function(){var a=this.coords.xy(this.position);this.obj.attr("x",a[0]).attr("y",a[1]);this.props.rotation&&this.obj.attr("transform","rotate("+this.props.rotation+","+a+")")};x.prototype.zoomed=function(){this.coords.zoomable&&this.applyTransform()};c.Axes=r;r.prototype=
Object.create(e.prototype);r.prototype.constructor=r;r.prototype.requiredProps=["xlim","ylim"];r.prototype.defaultProps={bbox:[.1,.1,.8,.8],axesbg:"#FFFFFF",axesbgalpha:1,gridOn:!1,xdomain:null,ydomain:null,xscale:"linear",yscale:"linear",zoomable:!0,axes:[{position:"left"},{position:"bottom"}],lines:[],paths:[],markers:[],texts:[],collections:[],sharex:[],sharey:[],images:[]};r.prototype.draw=function(){for(var a=0;a<this.props.sharex.length;a++)this.sharex.push(c.get_element(this.props.sharex[a]));
for(a=0;a<this.props.sharey.length;a++)this.sharey.push(c.get_element(this.props.sharey[a]));this.zoom=h.behavior.zoom();this.zoom.last_t=this.zoom.translate();this.zoom.last_s=this.zoom.scale();this.zoom_x=h.behavior.zoom().x(this.xdom);this.zoom_y=h.behavior.zoom().y(this.ydom);this.baseaxes=this.fig.canvas.append("g").attr("transform","translate("+this.position[0]+","+this.position[1]+")").attr("width",this.width).attr("height",this.height).attr("class","mpld3-baseaxes");this.clip=this.baseaxes.append("svg:clipPath").attr("id",
this.clipid).append("svg:rect").attr("x",0).attr("y",0).attr("width",this.width).attr("height",this.height);this.axes=this.baseaxes.append("g").attr("class","mpld3-axes").attr("clip-path","url(#"+this.clipid+")");this.axesbg=this.axes.append("svg:rect").attr("width",this.width).attr("height",this.height).attr("class","mpld3-axesbg").style("fill",this.props.axesbg).style("fill-opacity",this.props.axesbgalpha);for(a=0;a<this.elements.length;a++)this.elements[a].draw()};r.prototype.enable_zoom=function(){this.props.zoomable&&
(this.zoom.on("zoom",this.zoomed.bind(this,!0)),this.axes.call(this.zoom),this.axes.style("cursor","move"))};r.prototype.disable_zoom=function(){this.props.zoomable&&(this.zoom.on("zoom",null),this.axes.on(".zoom",null),this.axes.style("cursor",null))};r.prototype.zoomed=function(a){if("undefined"==typeof a||a){a=this.zoom.translate()[0]-this.zoom.last_t[0];var b=this.zoom.translate()[1]-this.zoom.last_t[1],d=this.zoom.scale()/this.zoom.last_s;this.zoom_x.translate([this.zoom_x.translate()[0]+a,0]);
this.zoom_x.scale(this.zoom_x.scale()*d);this.zoom_y.translate([0,this.zoom_y.translate()[1]+b]);this.zoom_y.scale(this.zoom_y.scale()*d);this.zoom.last_t=this.zoom.translate();this.zoom.last_s=this.zoom.scale();this.sharex.forEach(function(a){a.zoom_x.translate(this.zoom_x.translate()).scale(this.zoom_x.scale())}.bind(this));this.sharey.forEach(function(a){a.zoom_y.translate(this.zoom_y.translate()).scale(this.zoom_y.scale())}.bind(this));this.sharex.forEach(function(a){a.zoomed(!1)});this.sharey.forEach(function(a){a.zoomed(!1)})}for(a=
0;a<this.elements.length;a++)this.elements[a].zoomed()};r.prototype.reset=function(a,b){this.set_axlim(this.props.xdomain,this.props.ydomain,a,b)};r.prototype.set_axlim=function(a,b,d,g){a=null==a||K(a)?this.xdom.domain():a;b=null==b||K(b)?this.ydom.domain():b;d=null==d||K(d)?750:d;g=K(g)?!0:g;var l="date"===this.props.xscale?c.interpolateDates(this.xdom.domain(),a):h.interpolate(this.xdom.domain(),a),f="date"===this.props.yscale?c.interpolateDates(this.ydom.domain(),b):h.interpolate(this.ydom.domain(),
b),e=function(a){this.zoom_x.x(this.xdom.domain(l(a)));this.zoom_y.y(this.ydom.domain(f(a)));this.zoomed(!1)}.bind(this);h.select({}).transition().duration(d).tween("zoom",function(){return e});g&&(this.sharex.forEach(function(b){b.set_axlim(a,null,d,!1)}),this.sharey.forEach(function(a){a.set_axlim(null,b,d,!1)}));this.zoom.scale(1).translate([0,0]);this.zoom.last_t=this.zoom.translate();this.zoom.last_s=this.zoom.scale();this.zoom_x.scale(1).translate([0,0]);this.zoom_y.scale(1).translate([0,0])};
c.Toolbar=F;F.prototype=Object.create(e.prototype);F.prototype.constructor=F;F.prototype.defaultProps={buttons:["reset","move"]};F.prototype.addButton=function(a){this.buttons.push(new a(this))};F.prototype.draw=function(){function a(){this.buttonsobj.transition(750).attr("y",0)}c.insert_css("div#"+this.fig.figid+" .mpld3-toolbar image",{cursor:"pointer",opacity:.2,display:"inline-block",margin:"0px"});c.insert_css("div#"+this.fig.figid+" .mpld3-toolbar image.active",{opacity:.4});c.insert_css("div#"+
this.fig.figid+" .mpld3-toolbar image.pressed",{opacity:.6});this.fig.canvas.on("mouseenter",a.bind(this)).on("mouseleave",function(){this.buttonsobj.transition(750).delay(250).attr("y",16)}.bind(this)).on("touchenter",a.bind(this)).on("touchstart",a.bind(this));this.toolbar=this.fig.canvas.append("svg:svg").attr("width",16*this.buttons.length).attr("height",16).attr("x",2).attr("y",this.fig.height-16-2).attr("class","mpld3-toolbar");this.buttonsobj=this.toolbar.append("svg:g").selectAll("buttons").data(this.buttons).enter().append("svg:image").attr("class",
function(a){return a.cssclass}).attr("xlink:href",function(a){return a.icon()}).attr("width",16).attr("height",16).attr("x",function(a,b){return 16*b}).attr("y",16).on("click",function(a){a.click()}).on("mouseenter",function(){h.select(this).classed({active:1})}).on("mouseleave",function(){h.select(this).classed({active:0})});for(var b=0;b<this.buttons.length;b++)this.buttons[b].onDraw()};F.prototype.deactivate_all=function(){this.buttons.forEach(function(a){a.deactivate()})};F.prototype.deactivate_by_action=
function(a){function b(b){return-1!==a.indexOf(b)}0<a.length&&this.buttons.forEach(function(a){0<a.actions.filter(b).length&&a.deactivate()})};c.Button=m;m.prototype=Object.create(e.prototype);m.prototype.constructor=m;m.prototype.setState=function(a){a?this.activate():this.deactivate()};m.prototype.click=function(){this.active?this.deactivate():this.activate()};m.prototype.activate=function(){this.toolbar.deactivate_by_action(this.actions);this.onActivate();this.active=!0;this.toolbar.toolbar.select("."+
this.cssclass).classed({pressed:!0});this.sticky||this.deactivate()};m.prototype.deactivate=function(){this.onDeactivate();this.active=!1;this.toolbar.toolbar.select("."+this.cssclass).classed({pressed:!1})};m.prototype.sticky=!1;m.prototype.actions=[];m.prototype.icon=function(){return""};m.prototype.onActivate=function(){};m.prototype.onDeactivate=function(){};m.prototype.onDraw=function(){};c.ButtonFactory=function(a){function b(a){m.call(this,a,this.buttonID)}if("string"!==typeof a.buttonID)throw"ButtonFactory: buttonID must be present and be a string";
b.prototype=Object.create(m.prototype);b.prototype.constructor=b;for(var d in a)b.prototype[d]=a[d];return b};c.Plugin=w;w.prototype=Object.create(e.prototype);w.prototype.constructor=w;w.prototype.requiredProps=[];w.prototype.defaultProps={};w.prototype.draw=function(){};c.ResetPlugin=I;c.register_plugin("reset",I);I.prototype=Object.create(w.prototype);I.prototype.constructor=I;I.prototype.requiredProps=[];I.prototype.defaultProps={};c.ZoomPlugin=y;c.register_plugin("zoom",y);y.prototype=Object.create(w.prototype);
y.prototype.constructor=y;y.prototype.requiredProps=[];y.prototype.defaultProps={button:!0,enabled:null};y.prototype.activate=function(){this.fig.enable_zoom()};y.prototype.deactivate=function(){this.fig.disable_zoom()};y.prototype.draw=function(){this.props.enabled?this.fig.enable_zoom():this.fig.disable_zoom()};c.BoxZoomPlugin=z;c.register_plugin("boxzoom",z);z.prototype=Object.create(w.prototype);z.prototype.constructor=z;z.prototype.requiredProps=[];z.prototype.defaultProps={button:!0,enabled:null};
z.prototype.activate=function(){this.enable&&this.enable()};z.prototype.deactivate=function(){this.disable&&this.disable()};z.prototype.draw=function(){function a(a){if(this.enabled){var c=b.extent();b.empty()||a.set_axlim([c[0][0],c[1][0]],[c[0][1],c[1][1]])}a.axes.call(b.clear())}c.insert_css("#"+this.fig.figid+" rect.extent."+this.extentClass,{fill:"#fff","fill-opacity":0,stroke:"#999"});var b=this.fig.getBrush();this.enable=function(){this.fig.showBrush(this.extentClass);b.on("brushend",a.bind(this));
this.enabled=!0};this.disable=function(){this.fig.hideBrush(this.extentClass);this.enabled=!1};this.toggle=function(){this.enabled?this.disable():this.enable()};this.disable()};c.TooltipPlugin=G;c.register_plugin("tooltip",G);G.prototype=Object.create(w.prototype);G.prototype.constructor=G;G.prototype.requiredProps=["id"];G.prototype.defaultProps={labels:null,hoffset:0,voffset:10,location:"mouse"};G.prototype.draw=function(){var a=c.get_element(this.props.id,this.fig),b=this.props.labels,d=this.props.location;
this.tooltip=this.fig.canvas.append("text").attr("class","mpld3-tooltip-text").attr("x",0).attr("y",0).text("").style("visibility","hidden");"bottom left"==d||"top left"==d?(this.x=a.ax.position[0]+5+this.props.hoffset,this.tooltip.style("text-anchor","beginning")):"bottom right"==d||"top right"==d?(this.x=a.ax.position[0]+a.ax.width-5+this.props.hoffset,this.tooltip.style("text-anchor","end")):this.tooltip.style("text-anchor","middle");if("bottom left"==d||"bottom right"==d)this.y=a.ax.position[1]+
a.ax.height-5+this.props.voffset;else if("top left"==d||"top right"==d)this.y=a.ax.position[1]+5+this.props.voffset;a.elements().on("mouseover",function(a,d){this.tooltip.style("visibility","visible").text(null===b?"("+a+")":B(b,d))}.bind(this)).on("mousemove",function(a,b){if("mouse"===d){var c=h.mouse(this.fig.canvas.node());this.x=c[0]+this.props.hoffset;this.y=c[1]-this.props.voffset}this.tooltip.attr("x",this.x).attr("y",this.y)}.bind(this)).on("mouseout",function(a,b){this.tooltip.style("visibility",
"hidden")}.bind(this))};c.LinkedBrushPlugin=A;c.register_plugin("linkedbrush",A);A.prototype=Object.create(c.Plugin.prototype);A.prototype.constructor=A;A.prototype.requiredProps=["id"];A.prototype.defaultProps={button:!0,enabled:null};A.prototype.activate=function(){this.enable&&this.enable()};A.prototype.deactivate=function(){this.disable&&this.disable()};A.prototype.draw=function(){function a(a){n!=this&&(h.select(n).call(k.clear()),n=this,k.x(a.xdom).y(a.ydom))}function b(a){a=q[a.axnum];if(0<
a.length){var b=a[0].props.xindex,d=a[0].props.yindex,c=k.extent();k.empty()?m.selectAll("path").classed("mpld3-hidden",!1):m.selectAll("path").classed("mpld3-hidden",function(a){return c[0][0]>a[b]||c[1][0]<a[b]||c[0][1]>a[d]||c[1][1]<a[d]})}}function d(a){k.empty()&&m.selectAll("path").classed("mpld3-hidden",!1)}var g=c.get_element(this.props.id);if(null===g)throw"LinkedBrush: no object with id='"+this.props.id+"' was found";var e=this.fig;if(!("offsets"in g.props))throw"Plot object with id='"+
this.props.id+"' is not a scatter plot";var f="offsets"in g.props?"offsets":"data";c.insert_css("#"+e.figid+" rect.extent."+this.extentClass,{fill:"#000","fill-opacity":.125,stroke:"#fff"});c.insert_css("#"+e.figid+" path.mpld3-hidden",{stroke:"#ccc !important",fill:"#ccc !important"});var p="mpld3data-"+g.props[f],k=e.getBrush(),q=[];e.axes.forEach(function(a){var b=[];a.elements.forEach(function(a){a.props[f]===g.props[f]&&(a.group.classed(p,!0),b.push(a))});q.push(b)});var m=e.canvas.selectAll("."+
p),n;this.enable=function(){this.fig.showBrush(this.extentClass);k.on("brushstart",a).on("brush",b).on("brushend",d);this.enabled=!0};this.disable=function(){h.select(n).call(k.clear());this.fig.hideBrush(this.extentClass);this.enabled=!1};this.disable()};c.register_plugin("mouseposition",J);J.prototype=Object.create(c.Plugin.prototype);J.prototype.constructor=J;J.prototype.requiredProps=[];J.prototype.defaultProps={fontsize:12,fmt:".3g"};J.prototype.draw=function(){for(var a=this.fig,b=h.format(this.props.fmt),
d=a.canvas.append("text").attr("class","mpld3-coordinates").style("text-anchor","end").style("font-size",this.props.fontsize).attr("x",this.fig.width-5).attr("y",this.fig.height-5),c=0;c<this.fig.axes.length;c++){var e=function(){var f=a.axes[c];return function(){var a=h.mouse(this),c=f.x.invert(a[0]),a=f.y.invert(a[1]);d.text("("+b(c)+", "+b(a)+")")}}();a.axes[c].baseaxes.on("mousemove",e).on("mouseout",function(){d.text("")})}};c.Figure=n;n.prototype=Object.create(e.prototype);n.prototype.constructor=
n;n.prototype.requiredProps=["width","height"];n.prototype.defaultProps={data:{},axes:[],plugins:[{type:"reset"},{type:"zoom"},{type:"boxzoom"}]};n.prototype.getBrush=function(){if("undefined"===typeof this._brush){var a=h.svg.brush().x(h.scale.linear()).y(h.scale.linear());this.root.selectAll(".mpld3-axes").data(this.axes).call(a);this.axes.forEach(function(b){a.x(b.xdom).y(b.ydom);b.axes.call(a)});this._brush=a;this.hideBrush()}return this._brush};n.prototype.showBrush=function(a){a="undefined"===
typeof a?"":a;var b=this.getBrush();b.on("brushstart",function(a){b.x(a.xdom).y(a.ydom)});this.canvas.selectAll("rect.background").style("cursor","crosshair").style("pointer-events",null);this.canvas.selectAll("rect.extent, rect.resize").style("display",null).classed(a,!0)};n.prototype.hideBrush=function(a){a="undefined"===typeof a?"":a;var b=this.getBrush();b.on("brushstart",null).on("brush",null).on("brushend",function(a){a.axes.call(b.clear())});this.canvas.selectAll("rect.background").style("cursor",
null).style("pointer-events","visible");this.canvas.selectAll("rect.extent, rect.resize").style("display","none").classed(a,!1)};n.prototype.add_plugin=function(a){var b=a.type;if("undefined"===typeof b)console.warn("unspecified plugin type. Skipping this");else if(a=N(a),delete a.type,b in c.plugin_map&&(b=c.plugin_map[b]),"function"!==typeof b)console.warn("Skipping unrecognized plugin: "+b);else{a.clear_toolbar&&(this.props.toolbar=[]);if("buttons"in a)if("string"===typeof a.buttons)this.props.toolbar.push(a.buttons);
else for(var d=0;d<a.buttons.length;d++)this.props.toolbar.push(a.buttons[d]);this.plugins.push(new b(this,a))}};n.prototype.draw=function(){this.canvas=this.root.append("svg:svg").attr("class","mpld3-figure").attr("width",this.width).attr("height",this.height);for(var a=0;a<this.axes.length;a++)this.axes[a].draw();this.disable_zoom();for(a=0;a<this.plugins.length;a++)this.plugins[a].draw();this.toolbar.draw()};n.prototype.reset=function(a){this.axes.forEach(function(b){b.reset(a,!1)})};n.prototype.enable_zoom=
function(){for(var a=0;a<this.axes.length;a++)this.axes[a].enable_zoom();this.zoom_on=!0};n.prototype.disable_zoom=function(){for(var a=0;a<this.axes.length;a++)this.axes[a].disable_zoom();this.zoom_on=!1};n.prototype.toggle_zoom=function(){this.zoom_on?this.disable_zoom():this.enable_zoom()};n.prototype.get_data=function(a){return null===a||"undefined"===typeof a?null:"string"===typeof a?this.data[a]:a};c.PlotElement=e;e.prototype.requiredProps=[];e.prototype.defaultProps={};e.prototype.processProps=
function(a){a=N(a);var b={},d=this.name();this.requiredProps.forEach(function(c){if(!(c in a))throw"property '"+c+"' must be specified for "+d;b[c]=a[c];delete a[c]});for(var e in this.defaultProps)e in a?(b[e]=a[e],delete a[e]):b[e]=this.defaultProps[e];"id"in a?(b.id=a.id,delete a.id):"id"in b||(b.id=c.generateId());for(e in a)console.warn("Unrecognized property '"+e+"' for object "+this.name()+" (value = "+a[e]+").");return b};e.prototype.name=function(){var a=/function (.{1,})\(/.exec(this.constructor.toString());
return a&&1<a.length?a[1]:""};"object"===typeof module&&module.exports?module.exports=c:this.mpld3=c;console.log("Loaded mpld3 version "+c.version)}(d3);
